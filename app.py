from flask import Flask, render_template, request
import random
import os

app = Flask(__name__)

# โ ูุงุนุฏุฉ ุจูุงูุงุช ุงูุชุนุฑููุงุช ุฏุงุฎู ุงูููุฏ
legal_definitions = {
    "ุงูุนูุฏ": "ูู ุชูุงูู ุฅุฑุงุฏุชูู ุฃู ุฃูุซุฑ ุนูู ุฅุญุฏุงุซ ุฃุซุฑ ูุงูููู ูุนููุ ุณูุงุก ูุงู ุฅูุดุงุก ุงูุชุฒุงูุ ุฃู ููููุ ุฃู ุชุนุฏูููุ ุฃู ุฅููุงุคูุ ูููุนุฏ ูุตุฏุฑูุง ุฃุณุงุณููุง ููุงูุชุฒุงูุงุช ุงููุฏููุฉ. ูุงูุนูุงุฏ ุงูุนูุฏ ูุฌุจ ุฃู ูุชุญูู ุงูุชุฑุงุถู ุจูู ุงูุฃุทุฑุงู ุฏูู ุนููุจ ูุงูุบูุท ุฃู ุงูุชุฏููุณ ุฃู ุงูุฅูุฑุงู (ุงูููุงุฏ 59-66)ุ ูุฃู ูููู ูู ูุญู ูุนููุ ููููุ ููุดุฑูุน (ุงูููุงุฏ 93-97)ุ ูุฃู ูููู ุงูุณุจุจ ูุดุฑูุนูุง ูุบูุฑ ูุฎุงูู ูููุธุงู ุงูุนุงู (ุงูููุงุฏ 98-100). ุงูุนููุฏ ูู ุงูุฃุตู ุฑุถุงุฆูุฉุ ูููู ุจุนุถูุง ูุญุชุงุฌ ุฅูู ุดูููุฉ ูุนููุฉ ูุซู ุนูุฏ ุงูุจูุน ุงูุนูุงุฑู (ุงูููุงุฏ 71-73). ููุง ุฃู ุงูุนูุฏ ููุฒู ููุฃุทุฑุงูุ ุจุญูุซ ูุง ูุฌูุฒ ุชุนุฏููู ุฃู ุฅููุงุคู ุฅูุง ุจุงุชูุงูููุง ุฃู ููููุง ูููุงููู (ุงููุงุฏุฉ 106). ูู ุญุงู ุงูุฅุฎูุงู ุจุงูุงูุชุฒุงูุงุชุ ูููู ูุณุฎ ุงูุนูุฏ ูุถุงุฆููุง ุฃู ุงุชูุงูููุง (ุงูููุงุฏ 119-120). ููุดูู ุงููุงููู ุงููุฏูู ุงูุฌุฒุงุฆุฑู ุงูุฃุญูุงู ุงูููุธูุฉ ููุนููุฏ ูู ุงูููุงุฏ ูู 54 ุฅูู 120ู...",
    "ุงูุฃูููุฉ ุงููุงููููุฉ": "ุงูุฃูููุฉ ุงููุงููููุฉ ูู ูุฏุฑุฉ ุงูุดุฎุต ุนูู ุงูุชุณุงุจ ุงูุญููู ูุชุญูู ุงูุงูุชุฒุงูุงุช ููููุง ูููุงููู.",
    "ุงูุงูุชุฒุงู": "ุงูุงูุชุฒุงู ูู ุฑุงุจุทุฉ ูุงููููุฉ ููุฒู ุจูุง ุงููุฏูู ุจุฃุฏุงุก ูุนูู ููุฏุงุฆู.",
    "ุงููุณุคูููุฉ ุงููุฏููุฉ": "ุงููุณุคูููุฉ ุงููุฏููุฉ ูู ุงูุชุฒุงู ุงูุดุฎุต ุจุชุนููุถ ุงูุถุฑุฑ ุงููุงุฌู ุนู ูุนูู ุงูุดุฎุตู ุฃู ูุนู ุชุงุจุนูู.",
}

# โ ุนุจุงุฑุงุช ุชุฑุญูุจ ูุฅุบูุงู
opening_phrases = ["๐น ุฑูููู ุงูุนุฒูุฒุ ุงูุฌูุงุจ ุนูู ุณุคุงูู ูู:", "๐น ุตุฏููู ุงููุงููููุ ุฅููู ุงูุฅุฌุงุจุฉ:"]
closing_phrases = ["๐ก ูู ูุฏูู ุงุณุชูุณุงุฑ ุขุฎุฑุ ุฃูุง ููุง ูููุณุงุนุฏุฉ!", "โ๏ธ ุฅู ููุช ุจุญุงุฌุฉ ุฅูู ุชูุถูุญ ุฃูุซุฑุ ูุง ุชุชุฑุฏุฏ ูู ุงูุณุคุงู!"]

# โ ุฏุงูุฉ ุงูุจุญุซ ุนู ุชุนุฑูู
def find_legal_definition(query):
    for key, definition in legal_definitions.items():
        if key in query:
            return f"{random.choice(opening_phrases)}\n\n๐ **{key}:** {definition}\n\n{random.choice(closing_phrases)}"
    return "โ ุญุณูุง ุงุถููู ุณุงุฎูุจ ุถูู ููุง ุจูุง ุงููู ุฐูุงุก ุงุตุทูุงุนู ููุฏ ุงูุชุทููุฑ ูุงููู ูุง ุงููู ุงุฌุงุจุฉ ุนูู ุณุคุงูู ูุงู ุจูุงูุงุชู ูุง ุชุชุถูู ูุง ููุงููู."

@app.route("/", methods=["GET", "POST"])
def index():
    response = ""
    if request.method == "POST":
        query = request.form["query"]
        response = find_legal_definition(query)
    return render_template("index.html", response=response)

if __name__ == "__main__":
    port = int(os.environ.get("PORT", 5000))  # ุชุนููู ุงููููุฐ
    app.run(host="0.0.0.0", port=port, debug=True)
